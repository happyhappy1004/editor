<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Editorial Archive</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@700&family=Pretendard:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* 추가 스타일: 목록 버튼 및 디자인 강화 */
        .back-button-container {
            display: none;
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .btn-back {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }

        .btn-back:hover {
            background: var(--primary);
            color: white;
            transform: translateX(-5px);
        }

        .editorial-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 2rem;
            display: block !important;
            opacity: 1 !important;
        }

        .editorial-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="background-glob"></div>
    <div class="container">
        <header>
            <div class="logo">
                <i data-lucide="newspaper"></i>
                <h1>신문 사설 <span class="accent">검색기</span></h1>
            </div>
        </header>

        <main>
            <section class="search-section" id="searchSection">
                <div class="search-box">
                    <div class="select-wrapper">
                        <select id="searchField">
                            <option value="all">전체 검색</option>
                            <option value="author">저자</option>
                            <option value="background">배경 (Background)</option>
                            <option value="argument">주장 (Argument)</option>
                            <option value="title">제목</option>
                        </select>
                        <i data-lucide="chevron-down" class="select-icon"></i>
                    </div>
                    <div class="input-wrapper">
                        <i data-lucide="search" class="search-icon"></i>
                        <input type="text" id="searchInput" placeholder="키워드를 입력하세요..." autocomplete="off">
                    </div>
                    <button id="searchBtn" onclick="handleSearch()">검색</button>
                </div>
            </section>

            <div class="back-button-container" id="backBtnContainer">
                <button class="btn-back" onclick="resetSearch()">
                    <i data-lucide="arrow-left"></i> 목록으로 돌아가기
                </button>
            </div>

            <section class="results-section" id="resultsArea">
            </section>
        </main>
    </div>

    <script>
        const editorialsData = [
            { id: "sample-1", title: "디지털 교육 격차, 공교육이 나서야 한다", author: "김한글 논설위원", date: "2024-01-10", structure: { background: "최근 전국 초중고교의 디지털 기기 보급률이 급증하고 있으나, 활용 능력의 격차는 여전히 심각하다.", evidence: "수도권과 지방 학생 간의 디지털 리터러시 점수 차이가 20% 이상 벌어졌다.", argument: "정부는 기기 보급을 넘어 실질적인 디지털 활용 교육 프로그램을 의무화해야 한다.", fact: "현재 디지털 교육 시수는 OECD 평균의 절반 수준이다." } },
            { id: "sample-2", title: "기후 위기 대응, 기업의 책임 강화해야", author: "이초록 전문기자", date: "2024-01-11", structure: { background: "전 지구적인 이상 기후 현상으로 인한 피해가 매년 최고치를 경신하고 있다.", evidence: "탄소 배출 상위 10개 기업이 전체 배출량의 40%를 차지한다.", argument: "기업의 ESG 경영을 법적 의무 사항으로 강화해야 한다.", fact: "유럽연합은 이미 기업의 환경 책임을 법제화했다." } },
            { id: "sample-3", title: "저출산 대책, 육아 환경 개선을", author: "박미래 논설위원", date: "2024-01-12", structure: { background: "합계출산율 0.7명대 위기 속에 현금 지원 정책은 한계를 드러내고 있다.", evidence: "장려금을 늘려도 출산율 반등 효과는 미미하다는 결과가 있다.", argument: "육아 휴직의 자유로운 사용과 보육 시설 확충이 우선이다.", fact: "한국의 남성 육아휴직 사용률은 5% 내외로 최하위권이다." } },
            { id: "sample-4", title: "의대 정원 확대, 지역 의료 붕괴 막을 골든타임", author: "최생명 의학전문기자", date: "2024-01-13", structure: { background: "지방 의료원의 의사 구인난이 심화되면서 필수 의료 공백 사태가 잇따르고 있다.", evidence: "지방 병원이 전공의 정원을 채우지 못해 과목을 폐쇄하고 있다.", argument: "의대 정원을 확대하고 지역 의사제를 도입해야 한다.", fact: "우리나라 의대 정원은 18년 동안 동결된 상태다." } },
            { id: "sample-5", title: "가계부채 뇌관, 선제적 관리 필요하다", author: "정경제 논설실장", date: "2024-01-14", structure: { background: "고금리 장기화로 영끌족과 자영업자의 이자 부담이 한계에 다다랐다.", evidence: "가계부채 비율이 GDP 대비 100%를 초과하여 세계 최고 수준이다.", argument: "부실 채권 정리와 근본적인 채무 조정 정책이 필요하다.", fact: "연체율이 지난 1년 사이 2배 이상 급증했다." } },
            { id: "sample-6", title: "우주 항공청 설립, 미래 산업의 도약대", author: "강우주 과학전문기자", date: "2024-01-15", structure: { background: "세계 각국이 우주 개발 경쟁에 뛰어들고 있으나 한국은 컨트롤 타워가 부족하다.", evidence: "미국 NASA 등은 전담 기구를 통해 민간 우주 산업을 주도한다.", argument: "우주항공청 설립법을 조속히 통과시켜 민간 기업을 육성해야 한다.", fact: "한국의 우주 예산은 미국의 100분의 1 수준이다." } },
            { id: "sample-7", title: "노인 빈곤율 1위, 연금 개혁 서둘러야", author: "오복지 논설위원", date: "2024-01-16", structure: { background: "고령화 속에 노인 빈곤이 심각하지만 국민연금 개혁은 지지부진하다.", evidence: "65세 이상 노인의 빈곤율은 40%로 OECD 평균의 3배다.", argument: "사회적 대타협을 통해 연금의 지속 가능성을 확보해야 한다.", fact: "국민연금 고갈 시점이 2055년으로 앞당겨졌다." } },
            { id: "sample-8", title: "전세 사기 특별법, 실효성 높여야", author: "송주택 부동산팀장", date: "2024-01-17", structure: { background: "빌라왕 사태 등 전세 사기로 세입자들이 보증금을 떼일 위기에 처했다.", evidence: "특별법 시행 후에도 구제받은 사례는 피해자의 20% 미만이다.", argument: "피해자 인정 범위를 확대하고 주거 안정을 보장해야 한다.", fact: "전세 사기 피해자의 70%가 2030 세대이다." } },
            { id: "sample-9", title: "K-콘텐츠 저작권 보호 시스템 정비 시급", author: "문화영 문화부장", date: "2024-01-18", structure: { background: "K-콘텐츠가 인기지만 불법 스트리밍 사이트 피해도 급증하고 있다.", evidence: "불법 사이트로 인한 피해액이 연간 5조 원에 이른다.", argument: "국제 공조 수사를 강화하고 차단 기술을 고도화해야 한다.", fact: "불법 사이트 서버 대부분이 해외에 있어 처벌이 어렵다." } },
            { id: "sample-10", title: "반도체 전쟁, 초격차 기술 확보가 생존 전략", author: "반도체 산업부", date: "2024-01-19", structure: { background: "글로벌 반도체 공급망 재편으로 한국 반도체가 위기에 처했다.", evidence: "경쟁국들은 천문학적인 보조금을 지급하고 있다.", argument: "세제 혜택과 인프라 지원으로 기술 경쟁력을 확보해야 한다.", fact: "메모리 반도체 기술 격차가 1년 이내로 좁혀졌다." } }
        ];

        function handleSearch() {
            const query = document.getElementById('searchInput').value.trim().toLowerCase();
            const field = document.getElementById('searchField').value;

            if (!query) {
                alert("검색어를 입력해주세요!");
                return;
            }

            const filtered = editorialsData.filter(item => {
                const targets = {
                    all: (item.title + item.author + item.structure.background + item.structure.argument).toLowerCase(),
                    author: item.author.toLowerCase(),
                    title: item.title.toLowerCase(),
                    background: item.structure.background.toLowerCase(),
                    argument: item.structure.argument.toLowerCase()
                };
                return targets[field].includes(query);
            });

            render(filtered);
            document.getElementById('backBtnContainer').style.display = 'block';
        }

        function resetSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('searchField').value = 'all';
            document.getElementById('backBtnContainer').style.display = 'none';
            render(editorialsData);
        }

        function toggleContent(id, btn) {
            const content = document.getElementById(`content-${id}`);
            const isHidden = content.style.display === 'none';

            content.style.display = isHidden ? 'flex' : 'none';

            // Icon rotation logic
            const icon = btn.querySelector('svg');
            if (icon) {
                icon.style.transform = isHidden ? 'rotate(180deg)' : 'rotate(0deg)';
                icon.style.transition = 'transform 0.3s ease';
            }
        }

        function render(items) {
            const area = document.getElementById('resultsArea');
            area.innerHTML = items.length ? items.map(item => `
                <article class="editorial-card">
                    <div class="card-header" onclick="toggleContent('${item.id}', this.querySelector('.toggle-btn'))" style="cursor: pointer;">
                        <div class="header-main" style="flex: 1;">
                            <h2 class="card-title">${item.title}</h2>
                            <div class="card-meta">
                                <span class="meta-item"><i data-lucide="user" size="14"></i> ${item.author}</span>
                                <span class="meta-item"><i data-lucide="calendar" size="14"></i> ${item.date}</span>
                            </div>
                        </div>
                        <button class="toggle-btn" aria-label="내용 보기" style="background: none; border: none; cursor: pointer; padding: 8px;">
                            <i data-lucide="chevron-down"></i>
                        </button>
                    </div>
                    <div class="card-content" id="content-${item.id}" style="display: none;">
                        <div class="section-block background"><div class="section-label">배경</div><p class="section-text">${item.structure.background}</p></div>
                        <div class="section-block evidence"><div class="section-label">근거</div><p class="section-text">${item.structure.evidence}</p></div>
                        <div class="section-block argument"><div class="section-label">주장</div><p class="section-text">${item.structure.argument}</p></div>
                        <div class="section-block fact"><div class="section-label">사실</div><p class="section-text">${item.structure.fact}</p></div>
                    </div>
                </article>
            `).join('') : '<p class="empty-state">검색 결과가 없습니다.</p>';
            lucide.createIcons();
        }

        // 엔터키 입력 시 검색 실행
        document.getElementById('searchInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSearch();
        });

        window.onload = () => { render(editorialsData); lucide.createIcons(); };
    </script>
</body>

</html>